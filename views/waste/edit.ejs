<%- include("../partials/header") %>
<%- include("../partials/navbar") %>

<style>
    form{
        margin-bottom: 100px;
    }
</style>

<div class="container mt-5">
  <h2 class="text-center mb-4">Edit Waste Details</h2>
  
  <form action="/waste/<%= waste._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
    <div class="mb-3">
      <label class="form-label">Waste Name</label>
      <input type="text" name="name" class="form-control" value="<%= waste.name %>" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Category</label>
      <select name="category" class="form-select" required>
        <option value="">Select a category</option>
        <option value="Plastic" <%= waste.category === "Plastic" ? "selected" : "" %>>Plastic</option>
        <option value="Paper" <%= waste.category === "Paper" ? "selected" : "" %>>Paper</option>
        <option value="Metal" <%= waste.category === "Metal" ? "selected" : "" %>>Metal</option>
        <option value="Glass" <%= waste.category === "Glass" ? "selected" : "" %>>Glass</option>
        <option value="Organic" <%= waste.category === "Organic" ? "selected" : "" %>>Organic</option>
        <option value="E-waste" <%= waste.category === "E-waste" ? "selected" : "" %>>E-waste</option>
        <option value="Textile" <%= waste.category === "Textile" ? "selected" : "" %>>Textile</option>
        <option value="Expired Food" <%= waste.category === "Expired Food" ? "selected" : "" %>>Expired Food</option>
        <option value="Others" <%= waste.category === "Others" ? "selected" : "" %>>Others</option>
      </select>

    <div class="mb-3">
      <label class="form-label">Quantity (kg)</label>
      <input type="number" name="quantity" class="form-control" value="<%= waste.quantity %>" required>
    </div>

    <div class="mb-3">
      <label class="form-label">City</label>
      <input type="text" name="city" class="form-control" value="<%= waste.city %>" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Sector No.</label>
      <input type="text" name="sector" class="form-control" value="<%= waste.sector %>" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Current Image</label><br>
      <img src="<%= waste.imageUrl %>" alt="Waste Image" style="width: 200px; height: auto;">
    </div>

    <div class="mb-3">
      <label class="form-label">Upload New Image (Optional)</label>
      <input type="file" name="image" class="form-control">
    </div>

    <button type="submit" class="btn btn-primary mb-5">Update</button>
  </form>
</div>

<%- include("../partials/footer") %>
